import{c as fe,r as d,j as e,m as y,a,P as R,A as U,X,C as xe}from"./index-d14314cb.js";import{P as Ne,R as q,a as Q,C as V,T as P,b as W,B as Y,c as Z,X as J,Y as E,d as H,G as Ce,L as we,e as _,f as ee}from"./BarChart-5d2c115c.js";import{T as te}from"./trending-up-9f5ba96e.js";import{A as ae}from"./alert-circle-9d88b55d.js";import{P as re}from"./PieChart-7d65ed8b.js";import{S as Se}from"./search-48b09334.js";import{C as ke}from"./chevron-up-e4c8e691.js";const D=fe("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]);function $e(){const[x,le]=d.useState([{id:"WH-001",name:"Rural Karnataka Hub",location:"Belgaum, Karnataka",stockItems:42,storageCapacity:"500 sq m",healthScore:92,status:"Optimal",lastStockUpdate:"2024-03-20",productCategories:["Agricultural","Medical","FMCG"]},{id:"WH-002",name:"Maharashtra Agricultural Center",location:"Pune, Maharashtra",stockItems:35,storageCapacity:"450 sq m",healthScore:85,status:"Needs Attention",lastStockUpdate:"2024-03-15",productCategories:["Agricultural","Seeds","Fertilizers"]}]),[u,$]=d.useState([{id:"INV-001",name:"Drought-Resistant Seed Kit",category:"Agricultural",quantity:1500,unit:"packets",price:95,reorderPoint:500,warehouse:"WH-001",supplier:"GreenTech Seeds",trend:"increasing"},{id:"INV-002",name:"Essential Medical Supplies",category:"Medical",quantity:750,unit:"units",price:150,reorderPoint:250,warehouse:"WH-002",supplier:"HealthCare Direct",trend:"stable"}]),[k,ne]=d.useState({totalWarehouses:0,totalInventoryItems:0,stockValueEstimate:0,criticalStockItems:0}),[j,O]=d.useState("grid"),[b,ie]=d.useState({key:"id",direction:"asc"}),[I,se]=d.useState(""),[M,oe]=d.useState("All"),[ce,N]=d.useState(!1),[de,A]=d.useState(!1),[l,p]=d.useState(null),[o,C]=d.useState(!1),[F,ue]=d.useState([]),[G,he]=d.useState([]),[L,pe]=d.useState([]),[T,ge]=d.useState([]),w=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8","#82CA9D"],[c,f]=d.useState({name:"",category:"",quantity:0,unit:"",price:0,reorderPoint:0,warehouse:"",supplier:""}),[g,S]=d.useState({name:"",location:"",storageCapacity:"",productCategories:[]});d.useEffect(()=>{const t=()=>{if(!u.length)return[];const s=u.reduce((n,i)=>(n[i.category]=(n[i.category]||0)+i.quantity,n),{}),m=Object.values(s).reduce((n,i)=>n+i,0);return Object.entries(s).map(([n,i])=>({name:n,value:i||0,percent:m>0?i/m:0})).filter(n=>n.value>0)},r=()=>x.length?x.map(s=>({name:s.name,capacity:Math.max(parseInt(s.storageCapacity)||100,1),used:Math.min(Math.max(s.stockItems/parseInt(s.storageCapacity||1)*100,0),100),health:Math.min(Math.max(s.healthScore||0,0),100)})):[],h=()=>{if(!u.length)return[];const s=u.filter(v=>v.quantity<=v.reorderPoint).length,m=u.filter(v=>v.quantity>v.reorderPoint&&v.quantity<=v.reorderPoint*1.5).length,n=u.filter(v=>v.quantity>v.reorderPoint*1.5).length,i=s+m+n;return i>0?[{name:"Critical",value:s,percent:s/i},{name:"Low",value:m,percent:m/i},{name:"Good",value:n,percent:n/i}]:[]},z=()=>{if(!u.length)return[];const s=u.reduce((n,i)=>(n[i.category]=(n[i.category]||0)+i.quantity*i.price,n),{}),m=Object.values(s).reduce((n,i)=>n+i,0);return Object.entries(s).map(([n,i])=>({name:n,value:i||0,percent:m>0?i/m:0})).filter(n=>n.value>0)};ue(t()),he(r()),pe(h()),ge(z()),ne({totalWarehouses:x.length,totalInventoryItems:u.length,stockValueEstimate:u.reduce((s,m)=>s+m.quantity*m.price,0),criticalStockItems:u.filter(s=>s.quantity<=s.reorderPoint).length})},[u,x]);const K=d.useMemo(()=>{let t=u.filter(r=>r.name.toLowerCase().includes(I.toLowerCase())||r.category.toLowerCase().includes(I.toLowerCase()));return M!=="All"&&(t=t.filter(r=>r.category===M)),t.sort((r,h)=>r[b.key]<h[b.key]?b.direction==="asc"?-1:1:r[b.key]>h[b.key]?b.direction==="asc"?1:-1:0)},[u,I,M,b]),me=()=>{if(!c.name||!c.category){alert("Please fill in all required fields");return}const t={id:`INV-${u.length+1}`,...c,trend:"stable"};$([...u,t]),N(!1),f({name:"",category:"",quantity:0,unit:"",price:0,reorderPoint:0,warehouse:"",supplier:""})},ye=()=>{if(!l)return;const t=u.map(r=>r.id===l.id?l:r);$(t),C(!1),N(!1),p(null)},B=t=>{const r=u.filter(h=>h.id!==t);$(r)},be=()=>{if(!g.name||!g.location){alert("Please fill in required warehouse details");return}const t={id:`WH-${x.length+1}`,...g,stockItems:0,healthScore:100,status:"New",lastStockUpdate:new Date().toISOString().split("T")[0]};le([...x,t]),A(!1),S({name:"",location:"",storageCapacity:"",productCategories:[]})},ve=()=>j==="grid"?e("div",{className:"grid md:grid-cols-3 gap-6",children:K.map(t=>a(y.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3},className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-all border border-gray-200",children:[a("div",{className:"flex justify-between items-center mb-4",children:[e("h3",{className:"text-xl font-semibold",children:t.name}),e("span",{className:`
                  px-3 py-1 rounded-full text-xs
                  ${t.trend==="increasing"?"bg-green-100 text-green-800":t.trend==="decreasing"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}
                `,children:t.trend==="increasing"?"Rising":t.trend==="decreasing"?"Falling":"Stable"})]}),a("div",{className:"space-y-2",children:[a("div",{children:[e("strong",{children:"Category:"})," ",t.category]}),a("div",{children:[e("strong",{children:"Quantity:"})," ",t.quantity," ",t.unit]}),a("div",{children:[e("strong",{children:"Warehouse:"})," ",t.warehouse]}),a("div",{children:[e("strong",{children:"Supplier:"})," ",t.supplier]}),a("div",{className:"flex justify-between items-center mt-4",children:[e("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:e("div",{className:`h-2.5 rounded-full ${t.quantity<=t.reorderPoint?"bg-red-600":"bg-green-600"}`,style:{width:`${Math.min(100,t.quantity/t.reorderPoint*100)}%`}})}),a("span",{className:"ml-2 text-sm text-gray-600",children:[Math.round(t.quantity/t.reorderPoint*100),"%"]})]}),a("div",{className:"flex justify-end space-x-2 mt-4",children:[e("button",{onClick:()=>{p({...t}),C(!0),N(!0)},className:"text-blue-600 hover:bg-blue-50 p-2 rounded-full",children:e(_,{size:18})}),e("button",{onClick:()=>B(t.id),className:"text-red-600 hover:bg-red-50 p-2 rounded-full",children:e(ee,{size:18})})]})]})]},t.id))}):a("table",{className:"w-full bg-white rounded-xl shadow-lg border border-gray-200",children:[e("thead",{className:"bg-gray-100",children:e("tr",{children:["ID","Name","Category","Quantity","Warehouse","Supplier","Actions"].map(t=>a("th",{className:"p-3 text-left cursor-pointer hover:bg-gray-200",onClick:()=>{const r=b.direction==="asc";ie({key:t.toLowerCase().replace(" ",""),direction:r?"desc":"asc"})},children:[t,b.key===t.toLowerCase().replace(" ","")&&(b.direction==="asc"?e(ke,{className:"inline ml-1",size:16}):e(xe,{className:"inline ml-1",size:16}))]},t))})}),e("tbody",{children:K.map(t=>a("tr",{className:"border-b hover:bg-gray-50 transition-colors",children:[e("td",{className:"p-3",children:t.id}),e("td",{className:"p-3",children:t.name}),e("td",{className:"p-3",children:t.category}),a("td",{className:"p-3",children:[t.quantity," ",t.unit]}),e("td",{className:"p-3",children:t.warehouse}),e("td",{className:"p-3",children:t.supplier}),a("td",{className:"p-3 flex space-x-2",children:[e("button",{onClick:()=>{p({...t}),C(!0),N(!0)},className:"text-blue-600 hover:bg-blue-50 p-2 rounded-full",children:e(_,{size:18})}),e("button",{onClick:()=>B(t.id),className:"text-red-600 hover:bg-red-50 p-2 rounded-full",children:e(ee,{size:18})})]})]},t.id))})]});return e(y.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"min-h-screen bg-gradient-to-br from-blue-50 to-green-50 p-8",children:a("div",{className:"container mx-auto mt-12 pt-10",children:[a("header",{className:"mb-8 flex justify-between items-center",children:[a("h1",{className:"text-4xl font-bold text-gray-800 flex items-center",children:[e(D,{className:"mr-4 text-blue-600"}),"Inventory Management"]}),a("div",{className:"flex space-x-4",children:[a(y.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{C(!1),N(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-full hover:bg-blue-700 transition flex items-center",children:[e(Ne,{className:"mr-2"})," Create Inventory Item"]}),a(y.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>A(!0),className:"border border-blue-600 text-blue-600 px-4 py-2 rounded-full hover:bg-blue-50 transition flex items-center",children:[e(D,{className:"mr-2"})," Warehouse Management"]})]})]}),e(y.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5,delay:.2},className:"grid md:grid-cols-4 gap-6 mb-8",children:[{icon:e(R,{className:"text-blue-600 mr-3"}),title:"Total Items",value:k.totalInventoryItems},{icon:e(D,{className:"text-green-600 mr-3"}),title:"Warehouses",value:k.totalWarehouses},{icon:e(te,{className:"text-green-600 mr-3"}),title:"Stock Value",value:`₹${k.stockValueEstimate.toLocaleString()}`},{icon:e(ae,{className:"text-red-600 mr-3"}),title:"Critical Stock",value:k.criticalStockItems}].map((t,r)=>a("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-200",children:[a("div",{className:"flex items-center mb-4",children:[t.icon,e("h3",{className:"text-xl font-semibold",children:t.title})]}),e("div",{className:"text-4xl font-bold text-gray-800",children:t.value})]},r))}),a(y.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.4},className:"grid md:grid-cols-2 gap-8 mb-8",children:[a("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-200",children:[a("h3",{className:"text-xl font-semibold mb-4 flex items-center",children:[e(R,{className:"mr-2 text-blue-600"})," Inventory Distribution"]}),F.length>0?e(q,{width:"100%",height:300,children:a(re,{children:[e(Q,{data:F,cx:"50%",cy:"50%",labelLine:!1,label:({name:t,percent:r})=>`${t}: ${(r*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:F.map((t,r)=>e(V,{fill:w[r%w.length]},`cell-${r}`))}),e(P,{formatter:(t,r,h)=>[t,`${r}: ${(h.payload.percent*100).toFixed(1)}%`]}),e(W,{})]})}):e("div",{className:"flex items-center justify-center h-64 text-gray-500",children:"No inventory data available"})]}),a("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-200",children:[a("h3",{className:"text-xl font-semibold mb-4 flex items-center",children:[e(D,{className:"mr-2 text-green-600"})," Warehouse Utilization"]}),G.length>0?e(q,{width:"100%",height:300,children:a(Y,{data:G,children:[e(Z,{strokeDasharray:"3 3"}),e(J,{dataKey:"name"}),e(E,{yAxisId:"left",orientation:"left",stroke:"#8884d8",domain:[0,100]}),e(E,{yAxisId:"right",orientation:"right",stroke:"#82ca9d",domain:[0,100]}),e(P,{}),e(W,{}),e(H,{yAxisId:"left",dataKey:"used",name:"Capacity Used %",fill:"#8884d8"}),e(H,{yAxisId:"right",dataKey:"health",name:"Health Score",fill:"#82ca9d"})]})}):e("div",{className:"flex items-center justify-center h-64 text-gray-500",children:"No warehouse data available"})]}),a("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-200",children:[a("h3",{className:"text-xl font-semibold mb-4 flex items-center",children:[e(ae,{className:"mr-2 text-yellow-600"})," Stock Status"]}),L.length>0?e(q,{width:"100%",height:300,children:a(re,{children:[e(Q,{data:L,cx:"50%",cy:"50%",labelLine:!1,label:({name:t,percent:r})=>`${t}: ${(r*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:L.map((t,r)=>e(V,{fill:w[r%w.length]},`cell-${r}`))}),e(P,{formatter:(t,r,h)=>[t,`${r}: ${(h.payload.percent*100).toFixed(1)}%`]}),e(W,{})]})}):e("div",{className:"flex items-center justify-center h-64 text-gray-500",children:"No stock data available"})]}),a("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-200",children:[a("h3",{className:"text-xl font-semibold mb-4 flex items-center",children:[e(te,{className:"mr-2 text-green-600"})," Inventory Value"]}),T.length>0?e(q,{width:"100%",height:300,children:a(Y,{data:T,children:[e(Z,{strokeDasharray:"3 3"}),e(J,{dataKey:"name"}),e(E,{}),e(P,{formatter:(t,r,h)=>[`₹${t.toLocaleString()}`,`${r}: ${(h.payload.percent*100).toFixed(1)}%`]}),e(W,{}),e(H,{dataKey:"value",name:"Value (₹)",fill:"#8884d8",children:T.map((t,r)=>e(V,{fill:w[r%w.length]},`cell-${r}`))})]})}):e("div",{className:"flex items-center justify-center h-64 text-gray-500",children:"No value data available"})]})]}),a("div",{className:"flex justify-between items-center mb-6",children:[a("div",{className:"flex space-x-4",children:[a("div",{className:"relative",children:[e("input",{type:"text",placeholder:"Search inventory...",value:I,onChange:t=>se(t.target.value),className:"pl-10 pr-4 py-2 border rounded-full w-64"}),e(Se,{className:"absolute left-3 top-3 text-gray-400",size:18})]}),a("select",{value:M,onChange:t=>oe(t.target.value),className:"px-4 py-2 border rounded-full",children:[e("option",{value:"All",children:"All Categories"}),e("option",{value:"Agricultural",children:"Agricultural"}),e("option",{value:"Medical",children:"Medical"}),e("option",{value:"Seeds",children:"Seeds"}),e("option",{value:"FMCG",children:"FMCG"})]})]}),a("div",{className:"flex space-x-2",children:[e("button",{onClick:()=>O("grid"),className:`p-2 rounded-full ${j==="grid"?"bg-blue-100 text-blue-600":"hover:bg-gray-100"}`,children:e(Ce,{size:20})}),e("button",{onClick:()=>O("list"),className:`p-2 rounded-full ${j==="list"?"bg-blue-100 text-blue-600":"hover:bg-gray-100"}`,children:e(we,{size:20})})]})]}),ve(),e(U,{children:ce&&e(y.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a(y.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-xl p-8 w-96 relative shadow-lg",children:[e("button",{onClick:()=>{N(!1),C(!1),p(null)},className:"absolute top-4 right-4 text-gray-500 hover:text-gray-800",children:e(X,{size:24})}),e("h2",{className:"text-2xl font-bold mb-6",children:o?"Edit Inventory Item":"Create New Inventory Item"}),a("div",{className:"space-y-4",children:[e("input",{type:"text",placeholder:"Enter item name (e.g., Wheat Seeds, Medical Kit)",value:o?(l==null?void 0:l.name)||"":c.name,onChange:t=>o?p({...l,name:t.target.value}):f({...c,name:t.target.value}),className:"w-full px-4 py-2 border rounded-lg"}),a("select",{value:o?(l==null?void 0:l.category)||"":c.category,onChange:t=>o?p({...l,category:t.target.value}):f({...c,category:t.target.value}),className:"w-full px-4 py-2 border rounded-lg",children:[e("option",{value:"",children:"Select a Category"}),e("option",{value:"Agricultural",children:"Agricultural"}),e("option",{value:"Medical",children:"Medical"}),e("option",{value:"Seeds",children:"Seeds"}),e("option",{value:"FMCG",children:"FMCG"})]}),e("input",{type:"number",placeholder:"Enter quantity (e.g., 100, 500, 1000)",value:o?(l==null?void 0:l.quantity)||0:c.quantity,onChange:t=>o?p({...l,quantity:Number(t.target.value)}):f({...c,quantity:Number(t.target.value)}),className:"w-full px-4 py-2 border rounded-lg"}),e("input",{type:"text",placeholder:"Specify unit (e.g., packets, units, kg, liters)",value:o?(l==null?void 0:l.unit)||"":c.unit,onChange:t=>o?p({...l,unit:t.target.value}):f({...c,unit:t.target.value}),className:"w-full px-4 py-2 border rounded-lg"}),e("input",{type:"number",placeholder:"Enter price per unit (e.g., 50, 100, 250)",value:o?(l==null?void 0:l.price)||0:c.price,onChange:t=>o?p({...l,price:Number(t.target.value)}):f({...c,price:Number(t.target.value)}),className:"w-full px-4 py-2 border rounded-lg"}),e("input",{type:"number",placeholder:"Enter reorder point (e.g., 20, 50, 100)",value:o?(l==null?void 0:l.reorderPoint)||0:c.reorderPoint,onChange:t=>o?p({...l,reorderPoint:Number(t.target.value)}):f({...c,reorderPoint:Number(t.target.value)}),className:"w-full px-4 py-2 border rounded-lg"}),a("select",{value:o?(l==null?void 0:l.warehouse)||"":c.warehouse,onChange:t=>o?p({...l,warehouse:t.target.value}):f({...c,warehouse:t.target.value}),className:"w-full px-4 py-2 border rounded-lg",children:[e("option",{value:"",children:"Select Warehouse Location"}),x.map(t=>e("option",{value:t.id,children:t.name},t.id))]}),e("input",{type:"text",placeholder:"Enter supplier name (e.g., ABC Suppliers, XYZ Distributors)",value:o?(l==null?void 0:l.supplier)||"":c.supplier,onChange:t=>o?p({...l,supplier:t.target.value}):f({...c,supplier:t.target.value}),className:"w-full px-4 py-2 border rounded-lg"})]}),a("div",{className:"flex justify-end space-x-4 mt-6",children:[e("button",{onClick:()=>{N(!1),C(!1),p(null)},className:"px-4 py-2 border rounded-full",children:"Cancel"}),e(y.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:o?ye:me,className:"bg-blue-600 text-white px-4 py-2 rounded-full hover:bg-blue-700",children:o?"Update Item":"Create Item"})]})]})})}),e(U,{children:de&&e(y.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a(y.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-xl p-8 w-96 relative",children:[e("button",{onClick:()=>A(!1),className:"absolute top-4 right-4 text-gray-500 hover:text-gray-800",children:e(X,{size:24})}),e("h2",{className:"text-2xl font-bold mb-6",children:"Add New Warehouse"}),a("div",{className:"space-y-4",children:[e("input",{type:"text",placeholder:"Warehouse Name",value:g.name,onChange:t=>S({...g,name:t.target.value}),className:"w-full px-4 py-2 border rounded-lg"}),e("input",{type:"text",placeholder:"Location",value:g.location,onChange:t=>S({...g,location:t.target.value}),className:"w-full px-4 py-2 border rounded-lg"}),e("input",{type:"text",placeholder:"Storage Capacity (sq m)",value:g.storageCapacity,onChange:t=>S({...g,storageCapacity:t.target.value}),className:"w-full px-4 py-2 border rounded-lg"}),a("div",{children:[e("label",{className:"block mb-2",children:"Product Categories"}),e("div",{className:"flex flex-wrap gap-2",children:["Agricultural","Medical","Seeds","FMCG"].map(t=>a("label",{className:"inline-flex items-center",children:[e("input",{type:"checkbox",value:t,checked:g.productCategories.includes(t),onChange:r=>{const h=r.target.checked?[...g.productCategories,t]:g.productCategories.filter(z=>z!==t);S({...g,productCategories:h})},className:"mr-2"}),t]},t))})]})]}),a("div",{className:"flex justify-end space-x-4 mt-6",children:[e("button",{onClick:()=>A(!1),className:"px-4 py-2 border rounded-full",children:"Cancel"}),e(y.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:be,className:"bg-blue-600 text-white px-4 py-2 rounded-full hover:bg-blue-700",children:"Create Warehouse"})]})]})})})]})})}export{$e as default};
