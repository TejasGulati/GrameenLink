import{c as N,r,j as e,m as d,a,T as L,P as Z,M as De,A as P,S as Se,C as ke}from"./index-d14314cb.js";import{P as T,G as Ce,L as Ae,R as v,a as Me,C as J,T as f,b,B as I,c as j,X as R,Y as p,d as y,e as Le,f as Pe}from"./BarChart-5d2c115c.js";import{C as Te}from"./clock-fdb00efd.js";import{B as Q}from"./bar-chart-2-f808f04c.js";import{A as Ie}from"./alert-circle-9d88b55d.js";import{P as je}from"./PieChart-7d65ed8b.js";import{C as Re}from"./chevron-up-e4c8e691.js";const $e=N("Battery",[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}]]),_=N("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]),Be=N("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]),ee=N("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);function Ve(){var E,K,z,G,X,V,q,W,U,Y;const[m,te]=r.useState(null),[w,ae]=r.useState("All"),[D,ie]=r.useState({totalDeliveries:0,completedDeliveries:0,averageDeliveryTime:0,carbonSaved:0}),[le,S]=r.useState(!1),[re,$]=r.useState(!1),[k,B]=r.useState("grid"),[c,ne]=r.useState({key:"id",direction:"asc"}),[C,se]=r.useState(""),[He,de]=r.useState(null),[A,ce]=r.useState([]),[M,oe]=r.useState([]),[H,me]=r.useState([]),[n,g]=r.useState({origin:"",destination:"",packages:0,type:"",priority:"Medium"}),[u,F]=r.useState([{id:"GL-X250",model:"Advanced Rural Delivery",maxPayload:"15 kg",status:"Active",batteryLife:"85%",lastMaintenance:"2024-03-15",location:"Maharashtra Region",assignedRoute:"Medical Supply Chain",healthScore:92},{id:"GL-X300",model:"Agricultural Supply Drone",maxPayload:"20 kg",status:"Maintenance",batteryLife:"45%",lastMaintenance:"2024-02-28",location:"Karnataka Region",assignedRoute:"Agricultural Supply Line",healthScore:68}]),[l,he]=r.useState([{id:"DR-001",origin:"Rural Warehouse, Maharashtra",destination:"Village Health Center, Ahmednagar",status:"In Transit",eta:"45 mins",packages:12,batteryLevel:85,distance:"42 km",type:"Medical Supplies",priority:"High",drone:{model:"GL-X250",maxPayload:"15 kg",avgSpeed:"60 km/h",co2Saved:12.5},route:[{point:"Rural Warehouse, Maharashtra",timestamp:"10:00 AM",status:"Departed"},{point:"Waypoint 1",timestamp:"10:15 AM",status:"En Route"},{point:"Village Health Center, Ahmednagar",timestamp:"10:45 AM",status:"Estimated"}]},{id:"DR-002",origin:"Agricultural Depot, Karnataka",destination:"Remote Farming Community, Belgaum",status:"Pending",eta:"1 hr 15 mins",packages:8,batteryLevel:100,distance:"75 km",type:"Agricultural Supplies",priority:"Medium",drone:{model:"GL-X300",maxPayload:"20 kg",avgSpeed:"65 km/h",co2Saved:18.7},route:[{point:"Agricultural Depot, Karnataka",timestamp:"Pending",status:"Preparing"}]}]),x=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8","#82CA9D"];r.useEffect(()=>{(()=>{const i=l.length,h=l.filter(s=>s.status==="Completed").length,fe=l.reduce((s,o)=>{const we=parseInt(o.eta.split(" ")[0]);return s+we},0)/i,be=l.reduce((s,o)=>s+o.drone.co2Saved,0);ie({totalDeliveries:i,completedDeliveries:h,averageDeliveryTime:Math.round(fe),carbonSaved:Math.round(be)});const Ne=l.reduce((s,o)=>(s[o.type]=(s[o.type]||0)+1,s),{});ce(Object.entries(Ne).map(([s,o])=>({name:s,value:o,percent:o/l.length}))),oe([{name:"Total Deliveries",value:i},{name:"Completed",value:h},{name:"Pending",value:i-h}]),me(u.map(s=>({name:s.id,health:s.healthScore,battery:parseInt(s.batteryLife)})))})()},[l,u]);const O=[...u].sort((t,i)=>t[c.key]<i[c.key]?c.direction==="asc"?-1:1:t[c.key]>i[c.key]?c.direction==="asc"?1:-1:0).filter(t=>t.id.toLowerCase().includes(C.toLowerCase())||t.model.toLowerCase().includes(C.toLowerCase())),ge=w==="All"?l:l.filter(t=>t.status===w),ue=()=>{if(!n.origin||!n.destination||!n.type){alert("Please fill in all required fields");return}const t={id:`DR-${l.length+1}`,...n,status:"Pending",eta:"1 hr",batteryLevel:100,distance:"N/A",route:[{point:n.origin,timestamp:new Date().toLocaleTimeString(),status:"Preparing"}],drone:{model:"GL-X300",maxPayload:"20 kg",avgSpeed:"65 km/h",co2Saved:Math.round(Math.random()*20)}};he([...l,t]),S(!1),g({origin:"",destination:"",packages:0,type:"",priority:"Medium"})},pe=t=>{window.confirm("Are you sure you want to remove this drone from the fleet?")&&F(u.filter(h=>h.id!==t))},ye=()=>{const t={id:`GL-X${Math.floor(Math.random()*1e3)}`,model:"Next-Gen Delivery Drone",maxPayload:"25 kg",status:"Active",batteryLife:"100%",lastMaintenance:new Date().toISOString().split("T")[0],location:"Unassigned",assignedRoute:"Pending",healthScore:100};F([...u,t])},xe=()=>a(d.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.6},className:"grid md:grid-cols-2 gap-8 mb-8",children:[a("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[a("h3",{className:"text-xl font-semibold mb-4 flex items-center",children:[e(Z,{className:"mr-2 text-blue-600"})," Delivery Type Distribution"]}),A.length>0?e(v,{width:"100%",height:300,children:a(je,{children:[e(Me,{data:A,cx:"50%",cy:"50%",labelLine:!1,label:({name:t,percent:i})=>`${t}: ${(i*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:A.map((t,i)=>e(J,{fill:x[i%x.length]},`cell-${i}`))}),e(f,{formatter:(t,i,h)=>[t,`${i}: ${(h.payload.percent*100).toFixed(1)}%`]}),e(b,{layout:"horizontal",verticalAlign:"bottom",align:"center"})]})}):e("div",{className:"flex items-center justify-center h-64 text-gray-500",children:"No delivery data available"})]}),a("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[a("h3",{className:"text-xl font-semibold mb-4 flex items-center",children:[e(Q,{className:"mr-2 text-green-600"})," Delivery Performance"]}),M.length>0?e(v,{width:"100%",height:300,children:a(I,{data:M,children:[e(j,{strokeDasharray:"3 3"}),e(R,{dataKey:"name"}),e(p,{}),e(f,{}),e(b,{}),e(y,{dataKey:"value",name:"Deliveries",fill:"#8884d8",children:M.map((t,i)=>e(J,{fill:x[i%x.length]},`cell-${i}`))})]})}):e("div",{className:"flex items-center justify-center h-64 text-gray-500",children:"No performance data available"})]}),a("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[a("h3",{className:"text-xl font-semibold mb-4 flex items-center",children:[e(Se,{className:"mr-2 text-purple-600"})," Drone Health Status"]}),H.length>0?e(v,{width:"100%",height:300,children:a(I,{data:H,children:[e(j,{strokeDasharray:"3 3"}),e(R,{dataKey:"name"}),e(p,{yAxisId:"left",orientation:"left",stroke:"#8884d8",domain:[0,100]}),e(p,{yAxisId:"right",orientation:"right",stroke:"#82ca9d",domain:[0,100]}),e(f,{}),e(b,{}),e(y,{yAxisId:"left",dataKey:"health",name:"Health Score",fill:"#8884d8"}),e(y,{yAxisId:"right",dataKey:"battery",name:"Battery %",fill:"#82ca9d"})]})}):e("div",{className:"flex items-center justify-center h-64 text-gray-500",children:"No drone health data available"})]}),a("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[a("h3",{className:"text-xl font-semibold mb-4 flex items-center",children:[e(_,{className:"mr-2 text-green-600"})," Environmental Impact"]}),l.length>0?e(v,{width:"100%",height:300,children:a(I,{data:[{name:"Total Savings",co2:l.reduce((t,i)=>t+i.drone.co2Saved,0),trips:l.length}],children:[e(j,{strokeDasharray:"3 3"}),e(R,{dataKey:"name"}),e(p,{yAxisId:"left",orientation:"left"}),e(p,{yAxisId:"right",orientation:"right"}),e(f,{}),e(b,{}),e(y,{yAxisId:"left",dataKey:"co2",name:"CO2 Saved (kg)",fill:"#00C49F"}),e(y,{yAxisId:"right",dataKey:"trips",name:"Total Trips",fill:"#0088FE"})]})}):e("div",{className:"flex items-center justify-center h-64 text-gray-500",children:"No environmental data available"})]})]}),ve=()=>k==="grid"?e("div",{className:"grid md:grid-cols-3 gap-6",children:O.map(t=>a(d.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3},className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-all",children:[a("div",{className:"flex justify-between items-center mb-4",children:[e("h3",{className:"text-xl font-semibold",children:t.model}),e("span",{className:`
                  px-3 py-1 rounded-full text-xs
                  ${t.status==="Active"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}
                `,children:t.status})]}),a("div",{className:"space-y-2",children:[a("div",{children:[e("strong",{children:"Drone ID:"})," ",t.id]}),a("div",{children:[e("strong",{children:"Max Payload:"})," ",t.maxPayload]}),a("div",{children:[e("strong",{children:"Battery:"})," ",t.batteryLife]}),a("div",{children:[e("strong",{children:"Location:"})," ",t.location]}),a("div",{className:"flex justify-between items-center mt-4",children:[e("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:e("div",{className:"bg-green-600 h-2.5 rounded-full",style:{width:`${t.healthScore}%`}})}),a("span",{className:"ml-2 text-sm text-gray-600",children:[t.healthScore,"%"]})]})]})]},t.id))}):a("table",{className:"w-full bg-white rounded-xl shadow-lg",children:[e("thead",{className:"bg-gray-100",children:e("tr",{children:["ID","Model","Payload","Status","Battery","Location","Actions"].map(t=>a("th",{className:"p-3 text-left cursor-pointer hover:bg-gray-200",onClick:()=>{const i=c.direction==="asc";ne({key:t.toLowerCase().replace(" ",""),direction:i?"desc":"asc"})},children:[t,c.key===t.toLowerCase().replace(" ","")&&(c.direction==="asc"?e(Re,{className:"inline ml-1",size:16}):e(ke,{className:"inline ml-1",size:16}))]},t))})}),e("tbody",{children:O.map(t=>a("tr",{className:"border-b hover:bg-gray-50 transition-colors",children:[e("td",{className:"p-3",children:t.id}),e("td",{className:"p-3",children:t.model}),e("td",{className:"p-3",children:t.maxPayload}),e("td",{className:"p-3",children:e("span",{className:`
                    px-2 py-1 rounded-full text-xs
                    ${t.status==="Active"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}
                  `,children:t.status})}),e("td",{className:"p-3",children:t.batteryLife}),e("td",{className:"p-3",children:t.location}),a("td",{className:"p-3 flex space-x-2",children:[e("button",{onClick:()=>de(t),className:"text-blue-600 hover:bg-blue-50 p-2 rounded-full",children:e(Le,{size:18})}),e("button",{onClick:()=>pe(t.id),className:"text-red-600 hover:bg-red-50 p-2 rounded-full",children:e(Pe,{size:18})})]})]},t.id))})]});return e(d.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"min-h-screen bg-gray-100 p-8",children:a("div",{className:"container mx-auto mt-20",children:[a("header",{className:"mb-12",children:[a("h1",{className:"text-4xl font-bold text-gray-800 flex items-center",children:[e(ee,{className:"mr-4 text-green-600"}),"Drone Logistics"]}),a("div",{className:"flex space-x-4 mt-4",children:[a(d.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>S(!0),className:"bg-green-600 text-white px-4 py-2 rounded-full hover:bg-green-700 transition flex items-center mt-2",children:[e(T,{className:"mr-2"})," Create New Delivery"]}),a(d.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>$(!0),className:"border border-green-600 text-green-600 px-4 py-2 rounded-full hover:bg-green-50 transition flex items-center mt-2",children:[e(L,{className:"mr-2"})," Fleet Management"]})]})]}),a(d.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5,delay:.2},className:"grid md:grid-cols-4 gap-6 mb-8",children:[a("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[a("div",{className:"flex items-center mb-4",children:[e(L,{className:"text-blue-600 mr-3"}),e("h3",{className:"text-xl font-semibold",children:"Total Deliveries"})]}),e("div",{className:"text-4xl font-bold text-gray-800",children:D.totalDeliveries})]}),a("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[a("div",{className:"flex items-center mb-4",children:[e($e,{className:"text-yellow-600 mr-3"}),e("h3",{className:"text-xl font-semibold",children:"Avg Battery"})]}),a("div",{className:"text-4xl font-bold text-gray-800",children:[Math.round(l.reduce((t,i)=>t+i.batteryLevel,0)/l.length),"%"]})]}),a("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[a("div",{className:"flex items-center mb-4",children:[e(_,{className:"text-green-600 mr-3"}),e("h3",{className:"text-xl font-semibold",children:"CO2 Saved"})]}),a("div",{className:"text-4xl font-bold text-green-800",children:[D.carbonSaved," kg"]})]}),a("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[a("div",{className:"flex items-center mb-4",children:[e(Te,{className:"text-purple-600 mr-3"}),e("h3",{className:"text-xl font-semibold",children:"Avg Delivery Time"})]}),a("div",{className:"text-4xl font-bold text-gray-800",children:[D.averageDeliveryTime," mins"]})]})]}),xe(),a(d.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.4},className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:[a("div",{className:"flex justify-between items-center mb-6",children:[e("h2",{className:"text-2xl font-semibold text-gray-800",children:"Current Deliveries"}),e("div",{className:"flex space-x-2",children:["All","In Transit","Pending","Completed"].map(t=>e("button",{className:`
                    px-3 py-1 rounded-full text-sm font-medium
                    ${w===t?"bg-green-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}
                  `,onClick:()=>ae(t),children:t},t))})]}),e("div",{className:"space-y-4",children:ge.map(t=>e(d.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3},className:`
                  border rounded-lg p-4 transition 
                  ${m===t.id?"border-green-600 bg-green-50":"border-gray-200 hover:border-green-300"}
                `,onClick:()=>te(t.id),children:a("div",{className:"flex justify-between items-center",children:[a("div",{className:"flex items-center",children:[e(ee,{className:"mr-3 text-green-600"}),a("div",{children:[a("div",{className:"font-semibold",children:[t.id," - ",t.origin," to ",t.destination]}),a("div",{className:"text-sm text-gray-600 flex items-center",children:[e(Z,{className:"inline-block mr-1 h-4 w-4"}),t.packages," Packages |",e(De,{className:"inline-block ml-2 mr-1 h-4 w-4"}),t.distance]})]})]}),a("div",{className:"flex items-center space-x-4",children:[e("div",{className:`
                        px-3 py-1 rounded-full text-sm font-medium
                        ${t.status==="In Transit"?"bg-green-100 text-green-800":t.status==="Pending"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}
                      `,children:t.status}),e("div",{className:`
                        px-3 py-1 rounded-full text-sm font-medium
                        ${t.priority==="High"?"bg-red-100 text-red-800":t.priority==="Medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}
                      `,children:t.priority})]})]})},t.id))})]}),e(P,{children:m&&a(d.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-white rounded-xl shadow-lg p-6",children:[a("h2",{className:"text-2xl font-semibold mb-6 text-gray-800",children:["Delivery Details: ",m]}),a("div",{className:"grid md:grid-cols-2 gap-6",children:[a("div",{children:[a("h3",{className:"text-xl font-semibold mb-4 flex items-center",children:[e(Q,{className:"mr-2 text-blue-600"})," Drone Specifications"]}),a("div",{className:"space-y-3 bg-gray-50 p-4 rounded-lg",children:[a("div",{children:[e("strong",{children:"Model:"})," ",(K=(E=l.find(t=>t.id===m))==null?void 0:E.drone)==null?void 0:K.model]}),a("div",{children:[e("strong",{children:"Max Payload:"})," ",(G=(z=l.find(t=>t.id===m))==null?void 0:z.drone)==null?void 0:G.maxPayload]}),a("div",{children:[e("strong",{children:"Average Speed:"})," ",(V=(X=l.find(t=>t.id===m))==null?void 0:X.drone)==null?void 0:V.avgSpeed]}),a("div",{children:[e("strong",{children:"CO2 Saved:"})," ",(W=(q=l.find(t=>t.id===m))==null?void 0:q.drone)==null?void 0:W.co2Saved," kg"]})]})]}),a("div",{children:[a("h3",{className:"text-xl font-semibold mb-4 flex items-center",children:[e(Be,{className:"mr-2 text-green-600"})," Route Tracking"]}),e("div",{className:"space-y-3 bg-gray-50 p-4 rounded-lg",children:(Y=(U=l.find(t=>t.id===m))==null?void 0:U.route)==null?void 0:Y.map((t,i)=>a("div",{className:"flex items-center",children:[e(Ie,{className:`mr-2 ${t.status==="Departed"?"text-yellow-600":t.status==="En Route"?"text-blue-600":"text-green-600"}`}),a("div",{children:[e("strong",{children:t.point}),a("div",{className:"text-sm text-gray-600",children:[t.timestamp," - ",t.status]})]})]},i))})]})]})]})}),e(P,{children:le&&e(d.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a(d.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"bg-white rounded-xl p-12 mt-12 w-full max-w-lg",children:[a("h2",{className:"text-2xl font-bold mb-6 flex items-center",children:[e(T,{className:"mr-2 text-green-600"})," Create New Delivery"]}),a("div",{className:"space-y-4",children:[e("input",{type:"text",placeholder:"Origin",value:n.origin,onChange:t=>g({...n,origin:t.target.value}),className:"w-full p-2 border rounded-lg"}),e("input",{type:"text",placeholder:"Destination",value:n.destination,onChange:t=>g({...n,destination:t.target.value}),className:"w-full p-2 border rounded-lg"}),e("input",{type:"number",placeholder:"Number of Packages",value:n.packages,onChange:t=>g({...n,packages:parseInt(t.target.value)}),className:"w-full p-2 border rounded-lg"}),a("select",{value:n.type,onChange:t=>g({...n,type:t.target.value}),className:"w-full p-2 border rounded-lg",children:[e("option",{value:"",children:"Select Delivery Type"}),e("option",{value:"Medical Supplies",children:"Medical Supplies"}),e("option",{value:"Agricultural Supplies",children:"Agricultural Supplies"}),e("option",{value:"Emergency Aid",children:"Emergency Aid"})]}),a("select",{value:n.priority,onChange:t=>g({...n,priority:t.target.value}),className:"w-full p-2 border rounded-lg",children:[e("option",{value:"Low",children:"Low Priority"}),e("option",{value:"Medium",children:"Medium Priority"}),e("option",{value:"High",children:"High Priority"})]}),a("div",{className:"flex justify-end space-x-4",children:[e("button",{onClick:()=>S(!1),className:"px-4 py-2 border rounded-full",children:"Cancel"}),e("button",{onClick:ue,className:"bg-green-600 text-white px-4 py-2 rounded-full",children:"Create Delivery"})]})]})]})})}),e(P,{children:re&&e(d.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a(d.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"bg-white rounded-2xl p-12 mt-12 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[a("div",{className:"flex justify-between items-center mb-6",children:[a("h2",{className:"text-2xl font-bold flex items-center",children:[e(L,{className:"mr-2 text-green-600"})," Fleet Management"]}),a("div",{className:"flex space-x-4 items-center",children:[e("input",{type:"text",placeholder:"Search drones...",value:C,onChange:t=>se(t.target.value),className:"px-3 py-2 border rounded-lg"}),a("div",{className:"flex space-x-2",children:[e("button",{onClick:()=>B("grid"),className:`p-2 rounded-full ${k==="grid"?"bg-green-100":"hover:bg-gray-100"}`,children:e(Ce,{size:20})}),e("button",{onClick:()=>B("list"),className:`p-2 rounded-full ${k==="list"?"bg-green-100":"hover:bg-gray-100"}`,children:e(Ae,{size:20})})]}),a(d.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:ye,className:"bg-green-600 text-white px-4 py-2 rounded-full flex items-center",children:[e(T,{className:"mr-2"})," Add Drone"]})]})]}),ve(),e("div",{className:"flex justify-end mt-6",children:e("button",{onClick:()=>$(!1),className:"bg-green-600 text-white px-4 py-2 rounded-full",children:"Close"})})]})})})]})})}export{Ve as default};
