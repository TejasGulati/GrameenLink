import{c as F,r as d,j as e,m as g,a,S as M,D as fe,C as ye,A as be}from"./index-3e863b50.js";import{P as xe,G as ve,L as Ne,R as T,a as O,C as S,T as k,b as L,B as K,c as R,X as G,Y as E,d as U,e as q,f as H}from"./BarChart-98806afe.js";import{T as Ce}from"./trending-up-9ee10b73.js";import{C as X,P as we}from"./pie-chart-14aa150a.js";import{S as Te}from"./search-eddcefeb.js";import{P as Y}from"./PieChart-9e60ad1b.js";import{B as Se}from"./bar-chart-2-6dd819e7.js";import{C as ke}from"./chevron-up-6478b9d5.js";const J=F("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),Le=F("Layers",[["polygon",{points:"12 2 2 7 12 12 22 7 12 2",key:"1b0ttc"}],["polyline",{points:"2 17 12 22 22 17",key:"imjtdl"}],["polyline",{points:"2 12 12 17 22 12",key:"5dexcv"}]]),$e=F("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);function Be(){const[n,v]=d.useState([{id:"BC-001",type:"Agricultural Supply",amount:75e3,date:"2024-03-20",status:"Completed",sender:"0xA23B...4C9D",recipient:"0xF45G...7H8I",category:"Seeds",verified:!0},{id:"BC-002",type:"Medical Supplies",amount:95e3,date:"2024-03-15",status:"In Progress",sender:"0xJ12K...3L4M",recipient:"0xN56O...7P8Q",category:"Medical",verified:!1}]),[N,Q]=d.useState({totalTransactions:0,totalTransactionValue:0,completedTransactions:0,pendingTransactions:0,verifiedTransactions:0,avgTransactionValue:0}),[$,z]=d.useState("grid"),[m,W]=d.useState({key:"date",direction:"desc"}),[b,Z]=d.useState(""),[C,_]=d.useState("All"),[ee,f]=d.useState(!1),[r,h]=d.useState(null),[u,x]=d.useState(!1),[V,te]=d.useState([]),[D,ae]=d.useState([]),[j,le]=d.useState([]),[w,se]=d.useState([]),[o,p]=d.useState({type:"",amount:0,sender:"",recipient:"",category:"",status:"Pending"}),y=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8","#82CA9D"];d.useEffect(()=>{(()=>{const l=n.length,c=n.reduce((s,i)=>s+i.amount,0),A=n.filter(s=>s.status==="Completed").length,P=n.filter(s=>s.status==="In Progress").length,de=n.filter(s=>s.verified).length,ue=l>0?c/l:0;Q({totalTransactions:l,totalTransactionValue:Math.round(c),completedTransactions:A,pendingTransactions:P,verifiedTransactions:de,avgTransactionValue:Math.round(ue)});const me=n.reduce((s,i)=>(s[i.type]=(s[i.type]||0)+1,s),{});te(Object.entries(me).map(([s,i])=>({name:s,value:i,percent:i/n.length})));const he=n.reduce((s,i)=>(s[i.status]=(s[i.status]||0)+1,s),{});ae(Object.entries(he).map(([s,i])=>({name:s,value:i,percent:i/n.length})));const pe=n.reduce((s,i)=>(s[i.category]=(s[i.category]||0)+i.amount,s),{});le(Object.entries(pe).map(([s,i])=>({name:s,value:Math.round(i),percent:i/c})));const I=n.filter(s=>s.verified).length,ge=n.length-I;se([{name:"Verified",value:I},{name:"Unverified",value:ge}])})()},[n]);const B=d.useMemo(()=>{let t=n.filter(l=>l.type.toLowerCase().includes(b.toLowerCase())||l.category.toLowerCase().includes(b.toLowerCase())||l.id.toLowerCase().includes(b.toLowerCase()));return C!=="All"&&(t=t.filter(l=>l.status===C)),t.sort((l,c)=>l[m.key]<c[m.key]?m.direction==="asc"?-1:1:l[m.key]>c[m.key]?m.direction==="asc"?1:-1:0)},[n,b,C,m]),ne=()=>{if(!o.type||!o.recipient||!o.amount){alert("Please fill in all required fields");return}const t={id:`BC-${(n.length+1).toString().padStart(3,"0")}`,...o,date:new Date().toISOString().split("T")[0],verified:!1};v([...n,t]),f(!1),p({type:"",amount:0,sender:"",recipient:"",category:"",status:"Pending"})},ie=()=>{if(!r.type||!r.recipient||!r.amount){alert("Please fill in all required fields");return}const t=n.map(l=>l.id===r.id?r:l);v(t),f(!1),h(null),x(!1)},re=()=>a(g.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.6},className:"grid md:grid-cols-2 gap-8 mb-8",children:[a("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[a("h3",{className:"text-xl font-semibold mb-4 flex items-center",children:[e(we,{className:"mr-2 text-blue-600"})," Transaction Types"]}),V.length>0?e(T,{width:"100%",height:300,children:a(Y,{children:[e(O,{data:V,cx:"50%",cy:"50%",labelLine:!1,label:({name:t,percent:l})=>`${t}: ${(l*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:V.map((t,l)=>e(S,{fill:y[l%y.length]},`cell-${l}`))}),e(k,{formatter:(t,l,c)=>[t,`${l}: ${(c.payload.percent*100).toFixed(1)}%`]}),e(L,{})]})}):e("div",{className:"flex items-center justify-center h-64 text-gray-500",children:"No transaction data available"})]}),a("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[a("h3",{className:"text-xl font-semibold mb-4 flex items-center",children:[e(Se,{className:"mr-2 text-green-600"})," Transaction Status"]}),D.length>0?e(T,{width:"100%",height:300,children:a(K,{data:D,children:[e(R,{strokeDasharray:"3 3"}),e(G,{dataKey:"name"}),e(E,{}),e(k,{formatter:(t,l,c)=>[t,`${l}: ${(c.payload.percent*100).toFixed(1)}%`]}),e(L,{}),e(U,{dataKey:"value",name:"Transactions",fill:"#8884d8",children:D.map((t,l)=>e(S,{fill:y[l%y.length]},`cell-${l}`))})]})}):e("div",{className:"flex items-center justify-center h-64 text-gray-500",children:"No status data available"})]}),a("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[a("h3",{className:"text-xl font-semibold mb-4 flex items-center",children:[e(Le,{className:"mr-2 text-purple-600"})," Value by Category"]}),j.length>0?e(T,{width:"100%",height:300,children:a(K,{data:j,children:[e(R,{strokeDasharray:"3 3"}),e(G,{dataKey:"name"}),e(E,{}),e(k,{formatter:(t,l,c)=>[`₹${t.toLocaleString()}`,`${l}: ${(c.payload.percent*100).toFixed(1)}% of total`]}),e(L,{}),e(U,{dataKey:"value",name:"Value (₹)",fill:"#8884d8",children:j.map((t,l)=>e(S,{fill:y[l%y.length]},`cell-${l}`))})]})}):e("div",{className:"flex items-center justify-center h-64 text-gray-500",children:"No category data available"})]}),a("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[a("h3",{className:"text-xl font-semibold mb-4 flex items-center",children:[e(M,{className:"mr-2 text-blue-600"})," Verification Status"]}),w.length>0?e(T,{width:"100%",height:300,children:a(Y,{children:[e(O,{data:w,cx:"50%",cy:"50%",labelLine:!1,label:({name:t,percent:l})=>`${t}: ${(l*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:w.map((t,l)=>e(S,{fill:l===0?"#00C49F":"#FF8042"},`cell-${l}`))}),e(k,{formatter:(t,l,c)=>[t,`${l}: ${Math.round(t/w.reduce((A,P)=>A+P.value,0)*100)}%`]}),e(L,{})]})}):e("div",{className:"flex items-center justify-center h-64 text-gray-500",children:"No verification data available"})]})]}),ce=()=>$==="grid"?e("div",{className:"grid md:grid-cols-3 gap-6",children:B.map(t=>a(g.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3},className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-all",children:[a("div",{className:"flex justify-between items-center mb-4",children:[e("h3",{className:"text-xl font-semibold",children:t.type}),e("span",{className:`
                  px-3 py-1 rounded-full text-xs
                  ${t.status==="Completed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}
                `,children:t.status})]}),a("div",{className:"space-y-2",children:[a("div",{className:"flex justify-between",children:[e("strong",{children:"Amount:"})," ₹",t.amount.toLocaleString()]}),a("div",{className:"flex justify-between",children:[e("strong",{children:"Category:"})," ",t.category]}),a("div",{className:"flex justify-between items-center",children:[e("strong",{children:"Date:"})," ",t.date]}),a("div",{className:"flex items-center space-x-2 mt-2",children:[e("strong",{children:"Verified:"}),t.verified?e(X,{className:"text-green-600",size:18}):e($e,{className:"text-gray-500",size:18})]}),a("div",{className:"mt-4 space-y-2",children:[a("div",{className:"flex items-center",children:[e("strong",{className:"mr-2",children:"Sender:"}),a("div",{className:"flex items-center",children:[e("span",{className:"text-sm text-gray-600",children:t.sender}),e("button",{onClick:()=>navigator.clipboard.writeText(t.sender),className:"ml-2 text-gray-500 hover:text-blue-600",children:e(J,{size:16})})]})]}),a("div",{className:"flex items-center",children:[e("strong",{className:"mr-2",children:"Recipient:"}),a("div",{className:"flex items-center",children:[e("span",{className:"text-sm text-gray-600",children:t.recipient}),e("button",{onClick:()=>navigator.clipboard.writeText(t.recipient),className:"ml-2 text-gray-500 hover:text-blue-600",children:e(J,{size:16})})]})]})]}),a("div",{className:"flex justify-between mt-4",children:[e("button",{onClick:()=>{h(t),x(!0),f(!0)},className:"text-blue-600 hover:bg-blue-50 p-2 rounded-full",children:e(q,{size:18})}),e("button",{onClick:()=>{const l=n.filter(c=>c.id!==t.id);v(l)},className:"text-red-600 hover:bg-red-50 p-2 rounded-full",children:e(H,{size:18})})]})]})]},t.id))}):a("table",{className:"w-full bg-white rounded-xl shadow-lg",children:[e("thead",{className:"bg-gray-100",children:e("tr",{children:["ID","Type","Amount","Category","Status","Date","Actions"].map(t=>a("th",{className:"p-3 text-left cursor-pointer hover:bg-gray-200",onClick:()=>{const l=m.direction==="asc";W({key:t.toLowerCase().replace(" ",""),direction:l?"desc":"asc"})},children:[t,m.key===t.toLowerCase().replace(" ","")&&(m.direction==="asc"?e(ke,{className:"inline ml-1",size:16}):e(ye,{className:"inline ml-1",size:16}))]},t))})}),e("tbody",{children:B.map(t=>a("tr",{className:"border-b hover:bg-gray-50 transition-colors",children:[e("td",{className:"p-3",children:t.id}),e("td",{className:"p-3",children:t.type}),a("td",{className:"p-3",children:["₹",t.amount.toLocaleString()]}),e("td",{className:"p-3",children:t.category}),e("td",{className:"p-3",children:e("span",{className:`
                    px-3 py-1 rounded-full text-xs
                    ${t.status==="Completed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}
                  `,children:t.status})}),e("td",{className:"p-3",children:t.date}),a("td",{className:"p-3 flex space-x-2",children:[e("button",{onClick:()=>{h(t),x(!0),f(!0)},className:"text-blue-600 hover:bg-blue-50 p-2 rounded-full",children:e(q,{size:18})}),e("button",{onClick:()=>{const l=n.filter(c=>c.id!==t.id);v(l)},className:"text-red-600 hover:bg-red-50 p-2 rounded-full",children:e(H,{size:18})})]})]},t.id))})]}),oe=()=>e(be,{children:ee&&e(g.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a(g.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"bg-white rounded-xl p-8 w-full max-w-md",children:[e("h2",{className:"text-2xl font-bold mb-6",children:u?"Edit Transaction":"Create New Transaction"}),a("div",{className:"space-y-4",children:[e("input",{type:"text",placeholder:"Transaction Type",value:u?r.type:o.type,onChange:t=>u?h({...r,type:t.target.value}):p({...o,type:t.target.value}),className:"w-full p-2 border rounded-md"}),a("select",{value:u?r.category:o.category,onChange:t=>u?h({...r,category:t.target.value}):p({...o,category:t.target.value}),className:"w-full p-2 border rounded-md",children:[e("option",{value:"",children:"Select Category"}),e("option",{value:"Agricultural",children:"Agricultural"}),e("option",{value:"Medical",children:"Medical"}),e("option",{value:"Seeds",children:"Seeds"}),e("option",{value:"FMCG",children:"FMCG"})]}),e("input",{type:"number",placeholder:"Transaction Amount",value:u?r.amount:o.amount,onChange:t=>u?h({...r,amount:Number(t.target.value)}):p({...o,amount:Number(t.target.value)}),className:"w-full p-2 border rounded-md"}),e("input",{type:"text",placeholder:"Sender Address",value:u?r.sender:o.sender,onChange:t=>u?h({...r,sender:t.target.value}):p({...o,sender:t.target.value}),className:"w-full p-2 border rounded-md"}),e("input",{type:"text",placeholder:"Recipient Address",value:u?r.recipient:o.recipient,onChange:t=>u?h({...r,recipient:t.target.value}):p({...o,recipient:t.target.value}),className:"w-full p-2 border rounded-md"}),a("select",{value:u?r.status:o.status,onChange:t=>u?h({...r,status:t.target.value}):p({...o,status:t.target.value}),className:"w-full p-2 border rounded-md",children:[e("option",{value:"Pending",children:"Pending"}),e("option",{value:"Completed",children:"Completed"})]})]}),a("div",{className:"flex justify-end space-x-4 mt-6",children:[e("button",{onClick:()=>{f(!1),x(!1),h(null)},className:"px-4 py-2 border rounded-full hover:bg-gray-100",children:"Cancel"}),e("button",{onClick:u?ie:ne,className:"px-4 py-2 bg-blue-600 text-white rounded-full hover:bg-blue-700",children:u?"Update Transaction":"Create Transaction"})]})]})})});return e(g.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"min-h-screen bg-gray-100 p-8",children:a("div",{className:"container mx-auto mt-20",children:[a("header",{className:"mb-8 flex justify-between items-center",children:[a("h1",{className:"text-4xl font-bold text-gray-800 flex items-center",children:[e(M,{className:"mr-4 text-blue-600"}),"Blockchain Transparency"]}),a(g.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{x(!1),f(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-full hover:bg-blue-700 transition flex items-center",children:[e(xe,{className:"mr-2"})," Create Transaction"]})]}),a(g.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5,delay:.2},className:"grid md:grid-cols-4 gap-6 mb-8",children:[a("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[a("div",{className:"flex items-center mb-4",children:[e(fe,{className:"text-blue-600 mr-3"}),e("h3",{className:"text-xl font-semibold",children:"Total Transactions"})]}),e("div",{className:"text-4xl font-bold text-gray-800",children:N.totalTransactions})]}),a("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[a("div",{className:"flex items-center mb-4",children:[e(Ce,{className:"text-green-600 mr-3"}),e("h3",{className:"text-xl font-semibold",children:"Total Value"})]}),a("div",{className:"text-4xl font-bold text-green-800",children:["₹",N.totalTransactionValue.toLocaleString()]})]}),a("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[a("div",{className:"flex items-center mb-4",children:[e(X,{className:"text-green-600 mr-3"}),e("h3",{className:"text-xl font-semibold",children:"Completed"})]}),e("div",{className:"text-4xl font-bold text-green-800",children:N.completedTransactions})]}),a("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[a("div",{className:"flex items-center mb-4",children:[e(M,{className:"text-blue-600 mr-3"}),e("h3",{className:"text-xl font-semibold",children:"Verified"})]}),e("div",{className:"text-4xl font-bold text-blue-800",children:N.verifiedTransactions})]})]}),re(),a("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:[a("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[a("div",{className:"flex items-center space-x-4",children:[a("div",{className:"relative",children:[e("input",{type:"text",placeholder:"Search transactions...",value:b,onChange:t=>Z(t.target.value),className:"pl-10 pr-4 py-2 border rounded-full w-64"}),e(Te,{className:"absolute left-3 top-3 text-gray-400",size:20})]}),a("select",{value:C,onChange:t=>_(t.target.value),className:"px-4 py-2 border rounded-full",children:[e("option",{value:"All",children:"All Statuses"}),e("option",{value:"Completed",children:"Completed"}),e("option",{value:"In Progress",children:"In Progress"})]})]}),a("div",{className:"flex space-x-2",children:[e("button",{onClick:()=>z("grid"),className:`p-2 rounded-full ${$==="grid"?"bg-blue-100 text-blue-600":"hover:bg-gray-100"}`,children:e(ve,{size:20})}),e("button",{onClick:()=>z("list"),className:`p-2 rounded-full ${$==="list"?"bg-blue-100 text-blue-600":"hover:bg-gray-100"}`,children:e(Ne,{size:20})})]})]}),ce()]}),oe()]})})}export{Be as default};
